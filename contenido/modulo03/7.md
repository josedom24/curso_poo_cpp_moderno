Claro, aquí tienes el material didáctico para:

---

# Finalización de métodos y clases con `final`

## Introducción

En C++, las palabras clave `final` y `override` se usan para controlar la herencia y la sobrescritura de métodos virtuales. Mientras que `override` indica que un método sobrescribe un método virtual de la clase base, `final` sirve para **impedir** que un método sea sobrescrito o que una clase sea derivada.

Esto ayuda a prevenir errores, mejorar la seguridad del diseño y optimizar el código.

---

## Uso de `final` en métodos

Cuando se declara un método virtual como `final` en una clase derivada, se indica que **no puede ser sobrescrito en clases derivadas posteriores**.

```cpp
class Base {
public:
    virtual void metodo() {
        std::cout << "Base::metodo\n";
    }
};

class Derivada : public Base {
public:
    void metodo() final {  // Este método no puede ser sobrescrito más adelante
        std::cout << "Derivada::metodo final\n";
    }
};

class SubDerivada : public Derivada {
public:
    // Error: intentar sobrescribir metodo() está prohibido
    // void metodo() override { }  // Error de compilación
};
```

---

## Uso de `final` en clases

Declarar una clase como `final` impide que sea utilizada como clase base para otras clases. Es decir, no puede ser heredada.

```cpp
class ClaseFinal final {
public:
    void funcion() {
        std::cout << "ClaseFinal::funcion\n";
    }
};

// Error: no se puede heredar de ClaseFinal
// class Derivada : public ClaseFinal { };  // Error de compilación
```

---

## Beneficios de usar `final`

* **Control del diseño:** evita que otros programadores (o tú mismo) modifiquen la jerarquía de herencia accidentalmente.
* **Seguridad:** evita sobrescrituras no deseadas que pueden introducir bugs.
* **Optimización:** algunos compiladores pueden optimizar llamadas a métodos marcados como `final` porque saben que no habrá sobrescritura adicional.

---

## Ejemplo completo

```cpp
#include <iostream>

class Animal {
public:
    virtual void hacerSonido() const {
        std::cout << "Sonido genérico\n";
    }
    virtual ~Animal() = default;
};

class Perro final : public Animal {
public:
    void hacerSonido() const final {
        std::cout << "Guau\n";
    }
};

// class PerroEspecial : public Perro { }; // Error: no se puede derivar de Perro

int main() {
    Perro p;
    p.hacerSonido();
}
```

---

## Resumen

| Declaración           | Efecto                                               |
| --------------------- | ---------------------------------------------------- |
| `void metodo() final` | Método no puede ser sobrescrito en derivadas futuras |
| `class Clase final`   | Clase no puede ser heredada                          |

---

## Buenas prácticas

* Usa `final` en métodos que sabes que no deben cambiarse más.
* Usa `final` en clases para evitar herencias no controladas.
* Combina `override` y `final` para mayor claridad y seguridad.

---

¿Quieres que continúe con otro tema o módulo?
